<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <title>Anigrams</title>
  <meta name="generator" content="Jekyll v3.9.2" />
  <meta property="og:title" content="ü¶âü¶íüê¨ Anigrams ü¶úüêôüêê" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="A daily word game" />
  <meta property="og:description" content="A daily word game" />
  <link rel="canonical" href="http://anigrams.us" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêê</text></svg>">
  <meta property="og:url" content="http://anigrams.us" />
  <meta property="og:site_name" content="ü¶âü¶íüê¨ Anigrams ü¶úüêôüêê" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="ü¶âü¶íüê¨ Anigrams ü¶úüêôüêê" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,300">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "description": "Anigrams",
      "headline": "Anigrams",
      "name": "Anigrams",
      "url": "http://anigrams.us"
    }
  </script>
  <!-- End Jekyll SEO tag -->
  <link rel="stylesheet" href="main.css">
  <!-- <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your awesome title" /> -->
  <!-- Google Tag Manager -->
  <script>
    (function(w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-M4W79LJ');
  </script>
  <!-- End Google Tag Manager -->
</head>

<body ontouchstart="">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M4W79LJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <header class="site-header" role="banner">

    <div class="header-wrapper">
      <a class="title" rel="author" href="/">Anigrams</a>
      <div class="flex-container">
        <button class="link-button" role="button" onClick="openModal('rulesModal')">Rules</button>
        <button id="yesterdayModalLink" class="link-button" role="button" onClick="openModal('yesterdayModal')">Yesterday</button>
        <button class="link-button" role="button" onClick="openModal('aboutModal')">About</button>
      </div>
    </div>
  </header>
  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      <article class="post">
        <div id="introInfo">
          <div>Unscramble a word to reveal the next letter</div>
          <div>Level</div>
        </div>
        <div id="timer"></div>
        <div id="solutionArea"></div>
        <div id="tileArea"></div>

        <div class="emoji-button-menu" onClick="() => {}">
          <button id="clearButton" class="button-84" role="button" onClick="reset()">Clear</button>
          <button class="emoji-button" role="button" onClick="shuffle()">üîÑ</button>
          <button id="deleteButton" class="button-84" role="button" onClick="goback()">Delete</button>
        </div>
        <div class="emoji-button-menu" onClick="() => {}">
          <button id="hintButton" class="button-84 show-next-button" role="button" onClick="showNextLetter()">Show next letter</button>
        </div>
        <div id="hintsRemainingText">Hints remaining: <span id="hintsRemainingNumber">6</span></div>

        <div id="congratsModal" class="modal">
          <div class="modal-content">
            <span class="close" onClick="closeCongratsModal()">&times;</span>
            <div class="column-flex">
              <div class="goat">üêê</div>
              <div class="goat-text">You are the G.O.A.T. !!!</div>
            </div>
            <div id="shareableContent">
              <div class="share-content-row">
                <div>üêê</div>
                <div>ü¶â</div>
                <div>ü¶í</div>
                <div>üê¨</div>
                <div>ü¶ú</div>
                <div>üêô</div>
                <div>üêê</div>
              </div>
              <div class="share-content-row">
                <div>üêô</div>
                <div>Anigrams</div>
                <div>ü¶â</div>
              </div>
              <div class="share-content-row">
                <div>ü¶ú</div>
                <div id="shareNumber"></div>
                <div>ü¶í</div>
              </div>
              <div class="share-content-row">
                <div>üê¨</div>
                <div id="shareTime"></div>
                <div>üê¨</div>
              </div>
              <div class="share-content-row">
                <div>ü¶í</div>
                <div id="shareHints"></div>
                <div>ü¶ú</div>
              </div>
              <div class="share-content-row">
                <div>ü¶â</div>
                <div id="shareStreak"></div>
                <div>üêô</div>
              </div>
              <div class="share-content-row">
                <div>üêê</div>
                <div>üêô</div>
                <div>ü¶ú</div>
                <div>üê¨</div>
                <div>ü¶í</div>
                <div>ü¶â</div>
                <div>üêê</div>
              </div>
            </div>
            <div class="goat-modal-info-container">
              <div>
                <div>Next Anigram:</div>
                <div id="nextAnigram">XX</div>
              </div>
              <button id="shareButton" class="button-84" role="button" onClick="onClickShare()">Share</button>
            </div>

          </div>
        </div>

        <div id="rulesModal" class="modal">
          <div class="modal-content">
            <span class="close" onClick="closeModal('rulesModal')">&times;</span>
            <div class="rules-title">Rules</div>
            <div class="rules-info">
              <div>Unscramble a word to reveal the next letter.</div>
              <div>Each word must use every available letter exactly once.</div>
              <div>There may be multiple acceptable words at any given level, but you only need to enter one to advance.</div>
              <div>Feeling stuck? Use the "Show next letter" button for a hint... But use it wisely, as you only get 6 hints for the whole game!</div>
              <div>A new Anigrams puzzle will post every day at 9:30pm EST, 6:30pm PST</div>
            </div>
          </div>
        </div>
        <div id="yesterdayModal" class="modal">
          <div class="modal-content">
            <span class="close" onClick="closeModal('yesterdayModal')">&times;</span>
            <div id="yesterdayContent"></div>
          </div>
        </div>
        <div id="aboutModal" class="modal">
          <div class="modal-content">
            <span class="close" onClick="closeModal('aboutModal')">&times;</span>
            <div class="about-content">
              <div>Created by Adam Wagner</div>
              <div>Developed by Rafael Musa</div>
              <div>Gameplay development by Jacob Goldberg</div>
              <br>
              <div>Special thanks to Anna Goldberg Wagner</div>
              <br>
              <div>Think we missed a word? Want to share some feedback? Have other questions? Hit us up at <a href="mailto:info@anigrams.us">info@anigrams.us</a></div>
            </div>
          </div>
        </div>
      </article>

    </div>
  </main>
  <script>
    var solutions = `SITE TIES TIERS RITES TIRES TRIES SISTER RESIST RELISTS SLITHERS SHIRTLESS
SING SIGN GINS PINGS SPYING SPRINGY SPRAYING SPARINGLY
READ DEAR DARE AIRED RAIDER MARRIED ADMIRER DREAMIER REMAINDER
SUED USED DUES DUNES NUDES UNDIES INSURED SUNDRIES SIDEBURNS BURNSIDES
GETS GEST GENTS INGEST SIGNET TINGES SEATING TEASING SEDATING STEADING DESIGNATE
RECS CREST CORSET ESCORT SECTOR SCOOTER OUTSCORE COURTEOUS OUTSOURCE
TORE ROTE RETRO PORTER REPORT PRORATE PRAETOR OPERATOR CORPORATE
SEED DEES SPEED DEEPS ESPIED PRESIDE PERISHED WHISPERED
NORI IRON NOIR INTRO NITRO RATION ORATING RIGATONI MIGRATION
REPS SPREE PEERS PESTER PRESET PETERS STEEPER PRETEENS PRETENSE REPRESENT PRESENTER REPENTERS
PICS CLIPS SPLICE PICKLES PRICKLES CLERKSHIP
IONS COINS ICONS SCION SONIC COUSIN SUCTION MISCOUNT COSTUMING
ODDS DOSED DODGES GODDESS GODSENDS DODGINESS
DIVE VIED IVIED DIVIDE DIVINED DIVIDEND UNDIVIDED
GRIN RING GRAIN MARGIN ARMING ROAMING ORGANISM IGNORAMUS
TRUE TUNER NATURE CENTAUR UNCRATE UNTRACED UNDERACT UNCRATED UNCHARTED
GNAT TANG GRANT GRATIN RATING TARING RATTING RATTLING PRATTLING
REIN INERT INTER ORIENT PROTEIN POINTER ERUPTION IMPORTUNE
RARE REAR RACER CAREER TERRACE CATERER RETRACE RECREATE RACKETEER
SANE SEDAN DEANS ASCEND DANCES CANDIES DISTANCE SYNDICATE
LINE LIEN ALIEN FINALE INFLATE FILAMENT MINTLEAF FULMINATE
CART ACTOR CAPTOR CARTOP APRICOT TROPICAL PICTORIAL
BRAS BARS BRATS BAREST BASTER BREAST BARTERS ARBITERS BARRISTER
SITS STIRS STAIRS SITARS STRAINS ARSONIST ASSERTION SENORITAS
REIN REIGN RINGED DINGER GRINNED RENDING ENDURING UNDERSIGN SUNDERING
CASE ACES SCALE LACES CASTLE CLEATS ELASTIC LACIEST CASTILE CITADELS DIALECTS DISLOCATE
SERF REFS REEFS FREES REFERS FERRETS REFOREST FORESTER DEFROSTER
THIN HINT NIGHT THING HATING HALTING LATHING LATCHING HATCHLING
TORE ROTE ORATE OATER ORNATE ATONER SENATOR TREASON ATONERS RESONATE STONEWARE
DATE ACTED CADET CARTED CRATED REDACT TRACED REDCOAT CORDATE DEMOCRAT MOTORCADE
SEXT TEXTS SEXTET EXTENTS EXISTENT SIXTEENTH
STIR TRIOS RIOTS TORSI ROTIS SUITOR TOURIST OUTSTRIP PRINTOUTS OUTSPRINT
SEED DEES EASED SEATED TEASED SEDATE IDEATES DEVIATES SEDATIVE ADVERTISE
CURS CRUS CURDS CRUDS CURSED RECUSED REDUCES RESCUED SECURED SEDUCER CENSURED UNSECURED UNRESCUED
REVS VEERS VERSE SEVER SERVE SERVER REVERS REVERTS TRAVERSE HARVESTER
RIPS CRISP SCRIP CAPRIS SPACIER REPLICAS SPIRACLE CALIPERS PARTICLES
BEST BETS BENTS ABSENT BANTERS BARONETS ABSORBENT
DRIP PRIDE PRIED PRICED PIERCED PEDICURE PREJUDICE
TOES PESTO POETS ESTOP PRESTO POSTER TROPES REPOTS REPOST RESPOT REPORTS PRESORT PORTERS TROUPERS SUPPORTER
CRAG CARGO GARCON ORGANIC CAROMING ROMANCING
EARS SEAR ERAS SERA RAVES AVERS SAVER AVERTS STARVE VASTER BRAVEST VIBRATES VERBALIST
NARC CAIRN CRANIA ARNICA CARINA OCARINA RAINCOAT CARNATION
EVES VEES SIEVE REVISE GRIEVES DIVERGES DESERVING
TIRE RITE TIER RIVET INVERT VINTNER REINVENT INTERVENE
SETS SECTS CRESTS ACTRESS RECASTS CASTERS SCARCEST SCRATCHES
HITS THIS HEIST THEIRS HASTIER HARDIEST DISHWATER
VEAL VALE LAVE LEAVE REVEAL RAVELED SLAVERED ADVERSELY
TREE ENTER TREEN RELENT LECTERN ELECTRON TOLERANCE COETERNAL
DEAN ANTED ATTEND TAINTED ATTAINED ANTITRADE ATTAINDER
CART ACTOR RECOAT COATER EROTICA CREATION REACTION FORNICATE
ACES CASE LACES SCALE CAMELS MESCAL CALMEST CLIMATES METALLICS
ICON COIN TONIC NOTICE CONCEIT CONCERTI NECROTIC ACCRETION
DONE NODE ENDOW OWNED WOODEN SWOONED HOEDOWNS WOODHENS SNOWSHOED
SINS SNITS STEINS INSETS SNIDEST DISSENT TIDINESS INSISTED DISSIDENT
MEAN MANE AMEN NAME MEANT INMATE MINARET RAIMENT EMIGRANT MARKETING
SINE ANISE ARISEN RAVINES INVADERS VARNISHED
LACE CLEAR CARTEL CLARET RECTAL TREACLE RELOCATE CORRELATE
SEAR EARS ERAS SERA REARS RARES ERASER SEARER SERRATE RERATES REARREST ARRESTER TREASURER
DINE DEIGN DINGE TINGED DIETING EDITING IGNITED DINGIEST DIGESTION
HOGS GOSH GHOST GOTHS THONGS SHOTGUN GUNSHOT HANGOUTS SHOGUNATE
APED ADEPT TAPED DEPART PARTED PRATED PETARD TAPERED RETAPED PREDATE REPEATED DEPARTEE PREHEATED
SEAS CASES SCALES CLASHES SHACKLES SHELLACKS
MESS MESAS SEAMS MASSE SESAME MEASLES NAMELESS MALENESS LAMENESS SALESMEN MANELESS MEALINESS
MUTE UNMET MINUTE MINUET RUNTIME RUDIMENT IMPRUDENT
REIN INTER INERT TRINE UNITER TRIUNE NUTTIER UTTERING MUTTERING
SEND DENS NERDS RENDS DRONES SNORED ENDORSE CENSORED ENCODERS CRESCENDO
ACED DACE CASED CADETS REDACTS DETRACTS SCATTERED
PITA PAINT INAPT PLIANT PLAINT IMPLANT PLATINUM PENULTIMA
IONS SCION ICONS COINS SONIC COUSIN SUCTION MISCOUNT COLUMNIST
DIPS DRIPS SPIDER PRIDES PRISED SPIRED DIAPERS PRAISED ASPIRED DESPAIR PARADISE DISPARATE ASPIRATED
RIDS RIDES SIRED DRIES CIDERS DICERS SCRIED SIDECAR ASCRIBED BIRDCAGES
LASS SAILS AISLES ABSEILS BASSLINE LESBIANS BRAINLESS
SUPS PUSS SPURS PURSES SUPERS PERUSES PURENESS UNPRESSED SPEEDRUNS SUSPENDER
IONS IRONS NOIRS ROSIN GROINS SIGNOR SNORING MORNINGS MONSIGNOR
REAL EARL LEARN RENAL LINEAR NAILER RETINAL LATRINE RELIANT RELATION ORIENTAL RATIONALE
SITS SLITS SILTS LISTS ISLETS SLIEST STILES LISTENS ENLISTS SILENTS SALTINES SALIENTS STAINLESS SALTINESS
SIRE RISE RAISE ARISE PRAISE ASPIRE REPAIRS RASPIER RAPIERS PARRIES PRAIRIES DISREPAIR
RARE REAR RACER CARER CAREER CATERER TERRACE RECRATE RETRACE RECREANT CARPENTER
CASH CHAOS NACHOS ANCHORS RANCHOS MONARCHS HARMONICS
TEND DENT NOTED TONED DOCENT NOTICED DOCTRINE DIRECTION
SITE TIES HEIST TITHES THEIST ATHEIST HESITATE AESTHETIC
CUES CLUES ULCERS RECLUSE LECTURES CRUELEST CLUSTERED
ROOT TORO ROTOR TORPOR TROOPER OPERATOR TEARPROOF
DISS SIDES ISSUED DISUSE SUDSIER DESIROUS DISCOURSE
SEAS SEARS SNARES REASONS SENORAS PERSONAS TRANSPOSE PATRONESS
LENS LINES LIENS TINSEL LISTEN SILENT ENLIST INLETS SALIENT ENTAILS SALTINE LITANIES ALIENIST INELASTIC
TEEN EATEN NEATER ENTREAT RATTEEN TERNATE ANTEATER ALTERNATE
NICE CINE NIECE ENTICE GENETIC ERECTING GENTRICE CENTERING
TINT TAINT TITAN INTACT TITANIC CITATION DICTATION
SETS NESTS STEINS INSETS DISSENT SNIDEST DENTISTS DOTTINESS
GIST GITS STING TINGS GLINTS LISTING TILINGS SILTING STILTING SLITTING SPLITTING
ACES CASE SCALE LACES CLEATS CASTLE ELASTIC LACIEST LATTICES ATHLETICS
LACE CLEAR CARTEL CLARET RECTAL TREACLE RELOCATE PERCOLATE
NINE INNER DINNER GRINNED RENDING ENDURING UNRINGED UNDERLING
DENT TEND ANTED DETAIN FAINTED DEFIANT INFLATED DEFIANTLY
HALT LATH LATHE CHALET RELATCH LATCHER TRACHEAL CATHEDRAL
SNAG SANG NAGS ANGST GNATS TANGS AGENTS MAGNETS GARMENTS STREAMING MASTERING EMIGRANTS
HERD HEARD HARED ADHERE HEADER HEARTED EARTHED WREATHED WEATHERED
BELL LABEL BALLER BRAILLE LIBERAL RELIABLY BLEARILY LIBERALLY
EARS ERAS SEAR SERA ARSE DARES DEARS READS RAISED RESAID SHADIER AIRSHED RADISHES AIRSHEDS HARDINESS
ERRS RISER ROSIER SORRIER ORRERIES RESERVOIR
RIGS GRINS RINGS SIRING RISING VIRGINS REVISING SHIVERING
AIDS DAIS SAID STAID TRIADS TIRADES TARDIES ASTRIDE HARDIEST HEADFIRST
SODA ADOS ROADS DORSA ADORNS RANDOS ONWARDS SANDWORM MARKDOWNS
EATS EAST SATE TEAS SEAT TASE SAUTE SALUTE AMULETS MULETAS SIMULATE MUTILATES ULTIMATES STIMULATE
DUNE NUDE UNDER ENDURE ENURED TENURED DENTURE RETUNED DENATURE UNDERATE UNDEREAT UNEARTHED
SETS RESTS TRESS SISTER RESIST INSERTS SINTERS SINISTER DIRTINESS DISINTERS
REPS PRESS SPORES POSERS PROSES OPPRESS PROPOSES PORPOISES
INNS NINES TENNIS INTENSE TENNIES SENTIENT INTESTINE
STUD DUST DUETS DUTIES SUITED OUTSIDE TEDIOUS SOLITUDE CLOUDIEST
GUNS GNUS SUNG SNUG RUNGS GRUNTS STRUNG RUSTING TRUSTING THRUSTING
SIRS SRIS RISES SIRES SERIES REISSUE SEIZURES SUPERSIZE
SEAS OASES SEASON REASONS SENORAS BARONESS BROADNESS
ROWS SWORN WORSEN OWNERS RESOWN ROWENS SNOWIER BROWNIES WRISTBONE
EARN NEAR CRANE NECTAR TRANCE RECANT CANTER CENTRAL CLARINET INTERLACE
DELI LIED IDLE RILED SLIDER BRIDLES DRIBBLES SCRIBBLED
SOME POEMS MOPES POMES IMPOSE PROMISE SEMIPRO IMPOSTER MISREPORT IMPORTERS
HARE HEAR RHEA REACH ACHIER CHIMERA CHAIRMEN MACHINERY
TREE ENTER TERNE RELENT ETERNAL ENTERAL ANTLERED UNRELATED UNALTERED
RANT TARN TRAIN RATION ORATION TANDOORI ADORATION
NARC CRANE CANER NACRE CAREEN RECANE REENACT CRENATE CABERNET CELEBRANT
NOUN UNWON UNWORN UNSWORN RUNDOWNS SUNDOWNER UNDERSOWN
EONS ONES NOSE SONE OVENS VENOUS NERVOUS RAVENOUS SUPERNOVA
LONG LINGO LOGIN DOLING FOLDING FONDLING FOUNDLING UNFOLDING
EARS ERAS SEAR SERA ARSE REARS RARES RACERS CARERS ARCHERS CRASHER CHARTERS RECHARTS SCRATCHER
FEUD UNFED FONDUE FOUNDER FLOUNDER WONDERFUL UNDERFLOW
EASE ERASE HEARSE REHEARS SHEARER RESHARE REPHRASE SHARPENER
DEER REED CREED RECEDE DECREE ERECTED CENTERED PRECEDENT
TREE RETIE RETIRE RIVETER OVERTIRE OVERWRITE
SNAG NAGS SANG GAINS ASSIGN SIGNALS SAPLINGS SPANGLISH SPLASHING
SASH ASHES SHARES RASHES SHEARS HARNESS RASHNESS HARSHNESS
GAIN ACING CAKING LACKING CACKLING CLACKING CRACKLING
PORE ROPE REPO PRONE PERSON REOPENS OPENERS RESPONSE PRESEASON
TRUE UTTER TURTLE UTTERLY FLUTTERY BUTTERFLY
SETS NESTS STONES STENOS ONSETS NOSIEST SECTIONS CESSATION CANOEISTS SONICATES
DINE DEIGN DINGE ENDING GINNED DENTING TENDING UNTINGED INDULGENT
ALTO BLOAT OBLATE NOTABLE BALCONET COUNTABLE
SEED DEES REEDS SEDER DESERT DETERS RESTED TENDERS NERDIEST RESIDENT INSERTED SINTERED DISSENTER RESIDENTS TIREDNESS
ISLE LEIS LIES RILES SLIER REOILS OILERS ORIELS SPOILER PERILOUS REPULSION
SEAL SALE ALES LEAS LASE LASER EARLS RALES SERAL PEARLS EARLAPS PARABLES SPARABLE SEPARABLE
RIGS GRINS RINGS GRAINS SNARING GRANNIES EARNINGS ENGRAINS RANGINESS ANGRINESS
GERM GRIME GAMIER MIRAGE IMAGER RAGTIME MIGRATE EMIGRATE HERMITAGE
SIRS SRIS RISES SIRES RINSES SIRENS RESINS SERINS SNIPERS RESPINS RIPENESS PERKINESS
RICH CHIRP CIPHER CHIPPER CHOPPIER PROPHETIC
FRET AFTER RAFTED DAFTER FARTED DRAFTEE FEDERATE FEATHERED
ARMS RAMS MARS SMEAR MARES REAMS MASER REALMS REALISM MAILERS MEASLIER MISERABLE
TRUE ROUTE OUTRE OUTER DETOUR TOURED ROUTED REDOUT READOUT EDUCATOR OUTRACED UNDERCOAT
RANG GRAN GNAR GRAIN GAINER REGAIN NAGGIER GEARING ENRAGING ANGERING GARDENING GANDERING DERANGING
SEAS SEARS ARSES SWEARS ANSWERS RAWNESS WARINESS WEARINESS
ODOR DOOR ROOD RODEO MOORED ROOMED DOOMER MOTORED ODOMETER METEOROID
SURE RUES RUSE USER SUER ROUSE EUROS ROUES COURSE SOURCE CEROUS CROUSE CLOSURE COLURES ULCEROUS URCEOLUS CREDULOUS
SECT TECS CEST CHEST STECH TECHS STENCH CHASTEN SNATCHED STANCHED UNSCATHED STAUNCHED
DONE NODE CONED CODEN COINED CODEIN CONFIDE CONFINED CONFIDENT
RITE TIER TIRE REIT ITER IRATE ARITE TERAI TARIE RETIA RETINA RETAIN RATINE TANIER NATTIER NITRATE INTREAT ITERANT TERTIAN MARTINET TETRAMIN INTERMAT TERMINATE
CUES ECUS CURSE CURES SUCRE ECRUS CRUSE ULCERS CRUELS LUCRES LURCHES SLOUCHER LECHEROUS
NERD REND DERN DINER RIDEN RUINED INURED DIURNE UNRIDE INURNED UNFRIEND UNREFINED
EGOS GOES SEGO OGRES GORES SOGER GORSE GOERS GROUSE ROUGES ROGUES ERUGOS RUGOSE BROGUES BURGEONS SUBREGION
LAIN NAIL LINA ANIL ALIN ALIGN LIANG LANGI LINGA LIGAN ALGIN LAYING GAINLY ANGRILY RALLYING GLARINGLY
TERN RENT INERT INTER RETIN NITRE TRINE NITER ENTIRE TRIENE RETINE NEITHER THEREIN ENHERIT ETHERIN THEREMIN INTERMESH THEREMINS
IONS SION ICONS SCION COINS SONIC OSCIN CIONS COUSIN SUCTION UNSTOIC DISCOUNT CONDUITS NOCTUIDS CUSTODIAN
STIR RIST RITES TIERS TIRES TRIES RESIT STERI TRIBES BITERS BESTIR BISTER BISTRE BITTERS TRIBUTES BUTTERIS SUBMITTER
TOES PESTO POETS STOEP TOPES STOPE ESTOP PRESTO POSTER TROPES REPOTS REPOST RESPOT STOPER TOPERS SPORTED DEPORTS REDTOPS DOORSTEP TORPEDOS DROOPIEST DEPOSITOR
PODS UPDOS SOUPED PSEUDO SPOUTED OUTSPED OUTSPEND UNPOSTED UNSPOTTED
HEAR HARE RHEA EARTH HEART HATER RATHE REHEAT HEATER HEREAT AETHER WEATHER WHEREAT WREATHE WREATHED HEADWATER WATERHEAD
ROAN ORNA APRON PATRON TARPON PARTON OPERANT PRONATE PROTEAN COPARENT PORTANCE PROCREANT COPARTNER
RUNE RUEN TUNER ENRUT URENT NATURE OUTEARN OUTRANGE ENTOURAGE
ROAD ORAD ADORE OARED OREAD ORDEAL RELOAD LOADER LEOTARD DELATOR TAILORED IDOLATER EDITORIAL
REAR RARE RACER CARER CRARE CAREER CREAMER AMERCER CREAMERY MERCENARY
TORN TRON NITRO INTRO RATION AROINT RAINOUT CURATION NOCTURIA INCUBATOR
GNAT TANG GANT GIANT TIANG TANGI HATING ATHING ANIGHT HALTING LATHING THINGAL FANLIGHT NIGHTFALL
SUED USED DUES DUETS STUDE RUSTED RUDEST DUSTER DERUST DUSTIER STUDIER STUPIDER DISPUTER DISREPUTE REDISPUTE
SPIT PITS TIPS PIST PITAS TAPIS SPAIT PAINTS PATINS PINTAS PTISAN PANTIES SAPIENT SPINATE PATINES THESPIAN PANTHEIST
ISLE LEIS SILE LIES RILES SLIER RIELS LIERS PLIERS PERILS LISPER SIRPLE SPILER TRIPLES RESPLIT PRIESTLY SPLINTERY
TEES STEEL SLEET TEELS STELE SLETE TELES LEETS NESTLE RELENTS NESTLER LISTENER RELISTEN SILENTER REENLIST RESILIENT
TREE REET TEER RETE ENTER RENET TREEN TERNE NETER RENTE ENTREE TEENER RETENE ETERNE RENTEE PRETEEN TERPENE REPENTED REPETEND PRETENDER
DUNE NUDE UNDE UNDER UNRED RUNED NUDER ENDURE ENURED DURENE TENURED DENTURE RETUNED UNTREED UNDEREAT UNDERATE DENATURE UNTREATED
SNAG SANG NAGS GAINS ASSIGN CASINGS CAGINESS CARESSING
RING GRIN GIRN GRAIN GARNI AGRIN RATING GRATIN TARING ORATING RIGATONI RIGATION TAILORING LARGITION GRATIOLIN
SONS NOSES SONES SENSO LESSON LIONESS INSOLES LESIONS EPSILONS POINTLESS
SINS SINES NISSE SINEWS WINLESS SWINDLES WILDNESS WINDLESS SNOWSLIDE
ERRS REARS RARES SERRA ERASER REAPERS SPEARER REPHRASE PRESHARE SHARPENER RESHARPEN
REAR RARE RACER CARER CRARE CRATER TRACER ARRECT RECART CARTER ERRATIC CIRRATE CRITERIA GERIATRIC
TEES THESE SHEET THREES ETHERS SHELTER HOSTELER HOLSTERED
RAID ARID AIRED AIDER REDIA IRADE TIRADE TRIAGED GRADIENT TREADING REDATING DERATING DENIGRATE ARGENTIDE GRATINEED DINERGATE
TREE RETE EATER ARETE CREATE CERATE ECARTE TREACLE BRACELET TRACEABLE
RITE TIER TIRE ITER IRATE TERAI RETIA SATIRE STRIAE TERAIS REALIST SALTIER RETAILS SALTIRE SLATIER LATRINES ENTRAILS RETINALS RATLINES TRENAILS REINSTALL INSTALLER
LAGS GALS SLAG SLANG GLANS ALIGNS SIGNAL LIANGS ALGINS LASING LINGAS SCALING LACINGS CASTLING CATLINGS NOSTALGIC
SEAS ASSE SEARS ARSES RASSE SNARES SARSEN REASONS SENORAS PERSONAS RESPONSA ASPERSION
ACNE CANE ENACT NECTAR TRANCE RECANT CANTER CENTRA CARNET CERTAIN CITREAN NACRITE CREATION REACTION ACTIONER CERATION ANEROTIC MANTICORE CREMATION
SHIN SINH CHINS CHAINS CASHING CHASING SCATHING SNATCHING STANCHING
ACES CASE SCALE LACES ALECS CASTLE CLEATS ECLATS CALMEST CAMLETS CLIMATES CLEMATIS METICALS ALCHEMIST
CLAN CLANG GLANCE CANGLE ANGELIC GALENIC ANGLICE CLEANING ENLACING CONGENIAL
AIRS SARI RAIS RIAS RAISE ARISE SERAI ARMIES RAMIES MAESTRI IMARETS MISRATE STEAMIER EMIRATES TIMESAVER
ROSE ORES ROES SORE SNORE SENOR NOSER SERON GONERS GENROS IGNORES REGIONS SIGNORE RESOLING SOLDERING
MESS SEAMS MESAS MASSE SHAMES MASHES MESSIAH MASHIES EMPHASIS MISSHAPE MISSHAPEN
RILE LIRE LIER RIEL LITER LITRE RELIT TILER RETAIL ATELIER TIRALEE LITERATE LATERITE RETALIATE ALITERATE
LINT GLINT TILING LIFTING FLITING FLITTING FITTINGLY
SETS NESTS STONES STENOS ONSETS SETONS NOSIEST TENSIONS SENSATION
SINE SINGE SENGI RESIGN REIGNS SINGER SIGNER RESING LINGERS SLINGER RIESLING RESILING RELIGIONS
RAIN RANI CAIRN CRAIN ARNICA CRANIA ACINAR NARICA CARINA OCARINA MACARONI MAROCAIN ARMONICA PANORAMIC
SAND ANDS HANDS DANISH SANDHI SHADING DASHING HEADINGS DEASHING SHEADING ANGUISHED
IONS NOISE EOSIN SENIOR NOSIER IRONES VERSION REVISION INVERSION
TEES STEED DEETS SEDATE TEASED SEATED STEAMED MEDIATES DEFEATISM
DONE NODE NOTED TONED TENDON INTONED ANOINTED ANTINODE NOMINATED DENTINOMA
FEND FIEND FINED DEFINE INFEED FEINTED INFECTED DEFICIENT
SUES USES USERS RUSES SUERS SURES NURSES UNDRESS SUNDERS RESOUNDS SOUNDERS DOURNESS ROUNDNESS
SETS RESTS TRESS STRESS ASSERTS TRASSES TRESPASS SPARSEST STRAPLESS PSALTRESS
RENT TERN TREND TENDER RENTED DENTER TENURED DENTURE UNTREED RETUNED RETURNED UNDERRATE RENATURED
BIAS BASIL BAILS BIALYS SYLLABI SIBYLLA SYLLABIC BASICALLY
TILE LITE TELI TEIL LEGIT GIMLET MELTING LIGAMENT ALIGNMENT LAMENTING`

    var solutionsArray = solutions.split("\n");

    var badWordsList =
      "ASSHOLE ASSHOLES BITCH BITCHES SHIT SHITS SHITTING SHITTER SHITTY SHITTIER BULLSHIT FUCK FUCKS FUCKED FUCKING FUCKER FUCKERS CUNT CUNTS CUNTY CUNTIES TITS TITTIES TITTY COCK COCKS DICK DICKED DICKS PUSSY PUSSIES PUNANI PUNANIS TWAT TWATS SPIC SPICS NIGGER NIGGERS NIPS SPICK SPICKS BEANER BEANERS CHINK CHINKS CHINKER CHINKERS NIGGA NIGGAS NEGRO NEGROS CHOLO CHOLOS GOOK GOOKS WOGS GYPS GIPS KIKE KIKES KYKE KYKES DYKE DYKES FAGS MICK MICKS NIGLET NIGLETS PIKEY PIKEYS PIKER PIKERS RAGHEAD RAGHEADS REDSKIN REDSKINS SHYLOCK SHYLOCKS TARBABY TARBABIES WETBACK WETBACKS WOPS WENCH WENCHES FLOOZY FLOOZIE FLOOZIES BIMBO BIMBOS SHEMALE SHEMALES SLUT SLUTS TRANNY TRANNIE TRANNIES WHORE WHORES WHORED COCKSUCKER COCKSUCKERS NIGS"
    var badWordsSet = new Set(badWordsList.split(" ").map((word) => word.toLowerCase()));

    // assuming start at 2022/08/21, 18:30:00, PDT, also ignore daylight savings, www.unixtimestamp.com
    // use 1661131800000 when in daylight savings
    // use 1661135400000 when in standard time
    var puzzleIndex = Math.floor((Date.now() - 1661135400000) / (1000 * 60 * 60 * 24))
    if (puzzleIndex === 0) {
      document.getElementById("yesterdayModalLink").remove();
      if (localStorage.getItem('lastSolved') !== "1") {
        localStorage.setItem('streak', 0);
      }
    }
    var solution = processSolution(solutionsArray[puzzleIndex]);
    var yesterdaySolution = processSolution(solutionsArray[Math.max(puzzleIndex - 1, 0)])
    var currentWord = "";
    var currentRound = 0;
    var textToShare = 0;
    var emojiMapping = [
      'ü¶â',
      'ü¶í',
      'üê¨',
      'ü¶ú',
      'üêô',
      'üêê',
    ]
    var successMessages = [
      "Hoo-ray!",
      "Neck-cellent!",
      "TeEEEEErrific!",
      "Caw-esome!",
      "Gr-eight!",
      "Maaa-arvelous",
    ]
    var startTime = Math.floor(Date.now() / 1000); //Get the starting time (right now) in seconds

    function processSolution(solutionRow) {
      var processedSolution = [
        [],
        [],
        [],
        [],
        [],
        []
      ];
      var words = solutionRow.trim().split(" ");
      for (var i = 0; i < words.length; i++) {
        processedSolution[words[i].length - 4].push(words[i].toLowerCase());
      }
      return processedSolution;
    }

    function checkTime(i) {
      if (i < 10) {
        i = "0" + i
      }; // add zero in front of numbers < 10
      return i;
    }

    for (var i = 0; i < solution.length; i++) {
      var solutionRow = document.createElement('div');
      solutionRow.className = "solution-row";
      emojiDiv = document.createElement('div');
      emojiDiv.className = "emojiDiv";
      if (i === solution.length - 1) {
        // emojiDiv.classList.add("goat-tile");
        emojiDiv.className = "goat-tile-container"
        goat = document.createElement('div');
        goat.className = 'emojiDiv goat-tile';
        goat.innerText = emojiMapping[i];
        emojiDiv.appendChild(goat);
      } else {
        emojiDiv.innerText = emojiMapping[i];
      }
      // solutionRow.id = `solution-${i + 4}`
      solutionSlotContainer = document.createElement('div');
      solutionSlotContainer.className = "solution-slot-container";
      solutionSlotContainer.id = `solution-${i + 4}`
      solutionRow.appendChild(solutionSlotContainer);
      for (var j = 0; j < solution[i][0].length; j++) {
        var solutionSlot = document.createElement('div');
        solutionSlot.className = "solution-slot";
        // if (i === 0 && j === 0) {
        //   solutionSlot.classList.add("active-solution-slot")
        // }
        solutionSlotContainer.appendChild(solutionSlot);
      }
      solutionRow.appendChild(emojiDiv)
      solutionSlotContainer.appendChild(document.createElement('div'))
      document.getElementById('solutionArea').appendChild(solutionRow);


      var yesterdayRow = document.createElement('div');
      yesterdayRow.className = "solution-row no-justify";
      yesterdayEmojiDiv = document.createElement('div');
      yesterdayEmojiDiv.className = "emojiDiv";
      yesterdayEmojiDiv.innerText = emojiMapping[i];
      for (var j = 0; j < yesterdaySolution[i][0].length; j++) {
        var yesterdaySlot = document.createElement('div');
        yesterdaySlot.className = "solution-slot yesterday-slot";
        yesterdaySlot.innerText = yesterdaySolution[i][0][j];
        yesterdayRow.appendChild(yesterdaySlot);
      }
      yesterdayRow.appendChild(yesterdayEmojiDiv)
      document.getElementById('yesterdayContent').appendChild(yesterdayRow);
    }

    for (var i = 0; i < solution[0][0].length; i++) {
      var newTile = document.createElement('div');
      newTile.className = "tile";
      newTile.addEventListener('click', clickTile);
      newTile.innerText = solution[0][0][i];
      document.getElementById('tileArea').appendChild(newTile);
    }
    // remove -1 for goat tile
    for (var i = 0; i < solution.length - 1; i++) {
      emojiTile = document.createElement('div');
      flipper = document.createElement('div');
      front = document.createElement('div');
      back = document.createElement('div');
      emojiTile.className = "tile flip-container emoji-tile";
      // if (i === solution.length - 1) {
      //   emojiTile.classList.add('goat-tile');
      // }
      flipper.className = "flipper";
      front.className = "front";
      back.className = `back back-${i}`;
      front.innerText = emojiMapping[i];
      back.innerText = 'X';
      flipper.appendChild(front);
      flipper.appendChild(back);
      emojiTile.appendChild(flipper);
      document.getElementById('tileArea').appendChild(emojiTile)
    }
    // means we have saved data for today's puzzle
    if (Number(localStorage.getItem('currentDay')) === puzzleIndex + 1) {
      // document.querySelector('#solution-4').firstChild.classList.remove("active-solution-slot");
      currentSolution = localStorage.getItem('currentSolution').split('|')
      for (var i = 0; i < currentSolution.length - 1; i++) {
        for (var j = 0; j < currentSolution[i].length; j++) {
          document.querySelector(`#solution-${currentRound + 4} :nth-child(${j + 1})`).innerText = currentSolution[i][j];
        }
        currentRound++;
        if (i !== solution.length - 1) {
          var tileToFlip = document.querySelector('.emoji-tile')
          var newTile = document.createElement('div');
          newTile.className = "tile";
          newTile.addEventListener('click', clickTile);
          newTile.innerText = findNewLetter(currentRound);
          document.getElementById('tileArea').insertBefore(newTile, tileToFlip);
          tileToFlip.remove();
        }
      }
      for (var i = 0; i < localStorage.getItem('currLevelHints'); i++) {
        var index = [...document.getElementById('tileArea').children].map((child) => child.innerText.toLowerCase()).indexOf(solution[currentRound][0][i]);
        document.querySelector(`#tileArea :nth-child(${index + 1})`).click();
      }
      // today's puzzle already solved -- show success modal
      if (Number(localStorage.getItem('lastSolved')) === puzzleIndex + 1) {
        timeShareText = localStorage.getItem('shareHints') > 0 ? localStorage.getItem('shareTime') : `‚≠ê${localStorage.getItem('shareTime')}‚≠ê`
        textToShare = `ü¶âü¶íüê¨ü¶úüêôüêê\r\nAnigrams ${puzzleIndex + 1}\r\n${timeShareText}\r\nHints used: ${localStorage.getItem('shareHints') || 0}\r\nStreak: ${localStorage.getItem('streak').toString()}\r\nü¶âü¶íüê¨ü¶úüêôüêê\r\nanigrams.us`;
        // textToShare =
        //   `üêêü¶âü¶íüê¨ü¶úüêôüêê\nüêô     Anigrams     ü¶â\nü¶ú        ${(puzzleIndex + 1).toString().padStart(3, '0')}        ü¶í\nüê¨    ${localStorage.getItem('shareTime')}    üê¨\nü¶í      Hints: ${localStorage.getItem('shareHints') || 0}      ü¶ú\nü¶â  Streak: ${localStorage.getItem('streak').toString().padStart(3, '0')}  üêô\nüêêüêôü¶úüê¨ü¶íü¶âüêê`
        document.getElementById('shareNumber').innerText = (puzzleIndex + 1).toString();
        document.getElementById('shareTime').innerText = localStorage.getItem('shareTime')
        document.getElementById('shareHints').innerText = `Hints: ${localStorage.getItem('shareHints') || 0}`;
        document.getElementById('shareStreak').innerText = `Streak: ${localStorage.getItem('streak').toString()}`
        document.getElementById('congratsModal').style.display = "block"
      }
      // we have a partial solution for a previous day and can clear it
    } else {
      localStorage.setItem('currentSolution', "");
      localStorage.setItem('currentTime', "");
      localStorage.setItem('shareHints', "");
      localStorage.setItem('shareTime', "");
      localStorage.setItem('currLevelHints', 0);
      localStorage.setItem('hintsRemaining', 6);
    }

    document.getElementById('hintsRemainingNumber').innerHTML = localStorage.getItem('hintsRemaining') || '6';
    if (localStorage.getItem('hintsRemaining') === '0') {
      document.getElementById('hintButton').disabled = true;
    }

    if (!Number(localStorage.getItem('currLevelHints')) && document.querySelector(`#solution-${currentRound + 4}`)) {
      document.querySelector(`#solution-${currentRound + 4}`).firstChild.classList.add("active-solution-slot");
    }

    let prevTime = Number(localStorage.getItem('currentTime')) || 0;

    function startTimeCounter() {
      var now = Math.floor(Date.now() / 1000); // get the time now
      var diff = now - startTime + prevTime; // diff in seconds between now and start
      localStorage.setItem('currentTime', diff);
      var m = Math.floor(diff / 60); // get minutes value (quotient of diff)
      var s = Math.floor(diff % 60); // get seconds value (remainder of diff)
      m = checkTime(m); // add a leading zero if it's single digit
      s = checkTime(s); // add a leading zero if it's single digit
      document.getElementById("timer").innerHTML = m + ":" + s; // update the element where the timer will appear

      // DST daylight savings change
      var nextAnigram = (1661135400000 + ((puzzleIndex + 1) * 1000 * 24 * 60 * 60)) / 1000;
      var timeTilNext = nextAnigram - now;
      var mNext = Math.floor(timeTilNext / 60); // get minutes value (quotient of diff)
      var hNext = Math.floor(mNext / 60);
      mNext = mNext % 60;
      var sNext = Math.floor(timeTilNext % 60); // get seconds value (remainder of diff)
      hNext = checkTime(hNext); // add a leading zero if it's single digit
      mNext = checkTime(mNext); // add a leading zero if it's single digit
      sNext = checkTime(sNext); // add a leading zero if it's single digit
      document.getElementById('nextAnigram').innerHTML = `${hNext}:${mNext}:${sNext}`

      var t = setTimeout(startTimeCounter, 500); // set a timeout to update the timer
    }

    shuffle();
    startTimeCounter();

    function goback() {
      var hintsUsed = localStorage.getItem('currLevelHints');
      // if (currentWord !== "") {
      if (currentWord.length > hintsUsed) {
        var lastLetter = currentWord[currentWord.length - 1];
        currentWord = currentWord.slice(0, -1)
        document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length + 1})`).innerText = "";
        document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length + 2})`).classList.remove("active-solution-slot")
        document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length + 1})`).classList.add("active-solution-slot")
        var usedTiles = document.querySelectorAll('.used-tile');
        var tile = [...usedTiles].filter((usedTile) => usedTile.innerText === lastLetter)[0];
        tile.classList.remove('used-tile');
      }
    }

    document.addEventListener('keydown', (e) => {
      if (!e.repeat) {
        if (e.key === 'Backspace') {
          goback();
          return;
        }
        var index = [...document.getElementById('tileArea').children].map((child) => child.classList.contains('used-tile') ? '?' : child.innerText.toLowerCase()).indexOf(e.key);
        if (index !== -1) {
          document.querySelector(`#tileArea :nth-child(${index + 1})`).click();
        }
      }
    });

    function onClickShare() {
      if (navigator.share) {
        navigator.share({
          text: textToShare,
        });
      } else {
        navigator.clipboard.writeText(textToShare)
        document.getElementById('shareButton').innerText = "Copied to clipboard";
        setTimeout(() => document.getElementById('shareButton').innerText = "Share", 1000);
      }
    }

    function clickTile(ev) {
      currentWord += ev.target.innerText;

      document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length})`).innerText = ev.target.innerText;
      document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length})`).classList.remove("active-solution-slot")
      if (currentWord.length !== currentRound + 4) {
        document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length + 1})`).classList.add("active-solution-slot");
      }
      ev.target.classList.add("used-tile");
      // correct word
      if (solution.flat().includes(currentWord.toLowerCase()) && currentWord.length === currentRound + 4) {
        // new level means we're back to first letter for hints
        localStorage.setItem('currLevelHints', 0);
        document.getElementById('hintButton').disabled = true;

        // change active answer cell
        localStorage.setItem('currentDay', puzzleIndex + 1);
        localStorage.setItem('currentSolution', (localStorage.getItem('currentSolution') || "") + currentWord + "|")

        // deal with success message
        var feedbackContainer = document.createElement('div');
        feedbackContainer.className = "feedbackContainer";
        var feedbackMessage = document.createElement('div');
        feedbackMessage.innerText = successMessages[currentRound];
        feedbackMessage.className = "incorrectFeedback";
        feedbackMessage.classList.add("showIncorrectFeedback");
        feedbackContainer.appendChild(feedbackMessage);
        document.querySelector(`#solution-${currentRound + 4}`).parentElement.lastChild.appendChild(feedbackContainer);
        setTimeout(() => feedbackMessage.classList.remove("showIncorrectFeedback"), 500);
        setTimeout(() => {
          reset(true);
          currentRound++;
          if (currentRound === solution.length) {
            // solved yesterday
            if (Number(localStorage.getItem('lastSolved')) === puzzleIndex) {
              localStorage.setItem('streak', (Number(localStorage.getItem('streak')) || 0) + 1)
            } else {
              localStorage.setItem('streak', 1)
            }
            localStorage.setItem('lastSolved', puzzleIndex + 1)
            var now = Math.floor(Date.now() / 1000);
            var diff = now - startTime + prevTime;
            var totalMinutes = Math.floor(diff / 60);
            var h = Math.floor(totalMinutes / 60);
            var m = Math.floor(totalMinutes % 60);
            var s = Math.floor(diff % 60);
            h = checkTime(h)
            m = checkTime(m);
            s = checkTime(s);
            localStorage.setItem('shareTime', `${h}:${m}:${s}`)
            timeShareText = localStorage.getItem('shareHints') > 0 ? localStorage.getItem('shareTime') : `‚≠ê${localStorage.getItem('shareTime')}‚≠ê`
            textToShare =
              `ü¶âü¶íüê¨ü¶úüêôüêê\r\nAnigrams ${puzzleIndex + 1}\r\n${timeShareText}\r\nHints used: ${localStorage.getItem('shareHints') || 0}\r\nStreak: ${localStorage.getItem('streak').toString()}\r\nü¶âü¶íüê¨ü¶úüêôüêê\r\nanigrams.us`;
            // textToShare =
            //   `üêêü¶âü¶íüê¨ü¶úüêôüêê\nüêô     Anigrams     ü¶â\nü¶ú        ${(puzzleIndex + 1).toString().padStart(3, '0')}        ü¶í\nüê¨    ${h}:${m}:${s}    üê¨\nü¶í      Hints: ${localStorage.getItem('shareHints') || 0}      ü¶ú\nü¶â  Streak: ${localStorage.getItem('streak').toString().padStart(3, '0')}  üêô\nüêêüêôü¶úüê¨ü¶íü¶âüêê`
            document.getElementById('shareNumber').innerText = (puzzleIndex + 1).toString();
            document.getElementById('shareTime').innerText = `${h}:${m}:${s}`
            document.getElementById('shareHints').innerText = `Hints: ${localStorage.getItem('shareHints') || 0}`
            document.getElementById('shareStreak').innerText = `Streak: ${localStorage.getItem('streak').toString()}`
            document.querySelector('.goat-tile').classList.add('goat-tile-grow');
            setTimeout(() => document.getElementById('congratsModal').style.display = "block", 1200);
            return;
          }
          document.querySelector(`#solution-${currentRound + 4}`).firstChild.classList.add("active-solution-slot");
          var tileToFlip = document.querySelector('.emoji-tile')
          tileToFlip.firstChild.children[1].innerText = findNewLetter(currentRound);
          setTimeout(() => {
            tileToFlip.firstChild.classList.add("flip");
          }, 500);
          setTimeout(() => {
            var newTile = document.createElement('div');
            newTile.className = "tile";
            newTile.addEventListener('click', clickTile);
            newTile.innerText = findNewLetter(currentRound);
            document.getElementById('tileArea').insertBefore(newTile, tileToFlip);
            tileToFlip.remove();
            if (localStorage.getItem('hintsRemaining') !== '0') {
              document.getElementById('hintButton').disabled = false;
            }
          }, 900);
        }, 0)
      }
      // incorrect word
      else if (currentWord.length === currentRound + 4) {
        var feedbackContainer = document.createElement('div');
        feedbackContainer.className = "feedbackContainer";
        var feedbackMessage = document.createElement('div');
        feedbackMessage.innerText = "Invalid word";
        feedbackMessage.className = "incorrectFeedback";
        feedbackMessage.classList.add("showIncorrectFeedback");
        feedbackContainer.appendChild(feedbackMessage);
        document.querySelector(`#solution-${currentRound + 4}`).parentElement.lastChild.appendChild(feedbackContainer);
        setTimeout(() => feedbackMessage.classList.remove("showIncorrectFeedback"), 500);
        setTimeout(() => {
          reset();
          document.querySelector(`#solution-${currentRound + 4}`).parentElement.lastChild.lastChild.remove();
          // document.querySelector(`#solution-${currentRound + 4}`).firstChild.classList.add("active-solution-slot");
        }, 700);
      }
    }

    function showNextLetter() {
      var prevHintsRemaining = document.getElementById("hintsRemainingNumber").innerHTML;
      // should never happen because the button should be disabled, but adding check just in case
      if (prevHintsRemaining === "0") {
        return;
      }
      reset();
      document.getElementById("hintsRemainingNumber").innerHTML = prevHintsRemaining - 1;
      localStorage.setItem('currLevelHints', Number(localStorage.getItem('currLevelHints') || 0) + 1);
      localStorage.setItem('shareHints', Number(localStorage.getItem('shareHints') || 0) + 1);
      localStorage.setItem('hintsRemaining', prevHintsRemaining - 1);
      localStorage.setItem('currentDay', puzzleIndex + 1);
      var lettersToShow = Number(localStorage.getItem('currLevelHints'));
      if (currentWord.toLowerCase() === solution[currentRound][0].substr(0, lettersToShow).toLowerCase()) {
        return;
      }
      // reset()
      // for (var i = 0; i < lettersToShow; i++) {
      var index = [...document.getElementById('tileArea').children].map((child) => child.classList.contains("used-tile") ? '' : child.innerText.toLowerCase()).indexOf(solution[currentRound][0][lettersToShow - 1]);
      document.querySelector(`#tileArea :nth-child(${index + 1})`).click();
      // }
      if (prevHintsRemaining === "1") {
        document.getElementById('hintButton').disabled = true;
      }
    }

    function findNewLetter(round) {
      oldLetters = solution[round - 1][0].split('').sort().join('');
      newLetters = solution[round][0].split('').sort().join('');
      for (var i = 0; i < oldLetters.length; i++) {
        if (oldLetters[i] !== newLetters[i]) {
          return newLetters[i];
        }
      }
      return newLetters[newLetters.length - 1];
    }

    function reset(preserveWord = false) {
      var numHints = Number(localStorage.getItem('currLevelHints'));
      var hintWord = currentWord.substring(0, numHints);
      var hintLetters = hintWord.split('');
      [...document.querySelectorAll('.used-tile')].forEach((usedTile) => {
        indexInHints = hintLetters.indexOf(usedTile.innerText.toUpperCase());
        if (indexInHints === -1) {
          usedTile.classList.remove('used-tile');
        } else {
          hintLetters.splice(indexInHints, 1);
        }
      });
      document.querySelector(`#solution-${currentRound + 4} :nth-child(${currentWord.length + 1})`).classList.remove("active-solution-slot");
      currentWord = preserveWord ? "" : hintWord;
      if (!preserveWord) {
        solutionSlots = [...document.querySelectorAll(`#solution-${currentRound + 4} .solution-slot`)];
        solutionSlots.splice(0, numHints);
        solutionSlots.map((child) => child.innerText = "");
        document.querySelector(`#solution-${currentRound + 4} :nth-child(${numHints + 1})`).classList.add("active-solution-slot");
      }
    }

    function shuffle() {
      var tiles = document.getElementById('tileArea');
      while (true) {
        for (var i = currentRound + 4; i >= 0; i--) {
          tiles.insertBefore(tiles.children[Math.random() * i | 0], tiles.children[currentRound + 4]);
        }
        const randomArrangement = [...tiles.children].slice(0, currentRound + 4).map((child) => child.innerText).join('').toLowerCase();
        if (!solution.flat().includes(randomArrangement) && !badWordsSet.has(randomArrangement)) {
          break;
        }
      }
    }

    function closeCongratsModal() {
      document.getElementById("congratsModal").style.display = "none";
      document.querySelector('.goat-tile').remove();
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = "none";
    }

    function openModal(modalId) {
      document.getElementById(modalId).style.display = "block";
    }
  </script>
</body>

</html>